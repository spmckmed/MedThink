<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MEDTHINK - Mon Profil</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <link href="css/nav-auth.css" rel="stylesheet">
    <link href="css/profile.css" rel="stylesheet">
</head>
<body>
    <!-- La navigation sera insérée ici automatiquement -->

    <!-- Sidebar -->
    <div class="sidebar bg-white border-end">
        <div class="sidebar-header p-3">
            <h1 class="brand-text mb-0">MEDTHINK</h1>
        </div>
        <ul class="nav flex-column">
            <li class="nav-item">
                <a class="nav-link" href="dashboard.html">
                    <i class="bi bi-house-door"></i> Vue d'ensemble
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="catalog.html">
                    <i class="bi bi-collection-play"></i> Catalogue
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#favorites">
                    <i class="bi bi-heart"></i> Favoris
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#history">
                    <i class="bi bi-clock-history"></i> Historique
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link active" href="profile.html">
                    <i class="bi bi-person"></i> Mon profil
                </a>
            </li>
        </ul>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Top Navigation -->
        <nav class="navbar navbar-expand-lg navbar-light bg-white border-bottom">
            <div class="container-fluid">
                <h2 class="navbar-text mb-0">Mon Profil</h2>
            </div>
        </nav>

        <!-- Profile Content -->
        <div class="container-fluid p-4">
            <div class="row">
                <!-- Profile Information -->
                <div class="col-md-8">
                    <div class="card mb-4">
                        <div class="card-body">
                            <div class="d-flex align-items-center mb-4">
                                <div class="position-relative">
                                    <img src="" alt="Photo de profil" class="rounded-circle profile-picture" id="profilePicture">
                                    <button class="btn btn-sm btn-light position-absolute bottom-0 end-0 rounded-circle edit-photo-btn">
                                        <i class="bi bi-camera"></i>
                                    </button>
                                </div>
                                <div class="ms-3">
                                    <h3 class="mb-0" id="profileName">Dr. </h3>
                                    <p class="text-muted mb-0" id="profileSpecialty">Spécialité</p>
                                </div>
                            </div>

                            <form id="profileForm">
                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <label class="form-label">Prénom</label>
                                        <input type="text" class="form-control" id="firstName" name="firstName">
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label">Nom</label>
                                        <input type="text" class="form-control" id="lastName" name="lastName">
                                    </div>
                                </div>

                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <label class="form-label">Email</label>
                                        <input type="email" class="form-control" id="email" name="email" readonly>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label">Téléphone</label>
                                        <input type="tel" class="form-control" id="phone" name="phone">
                                    </div>
                                </div>

                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <label class="form-label">Spécialité</label>
                                        <select class="form-select" id="specialty" name="specialty">
                                            <option value="cardiologie">Cardiologie</option>
                                            <option value="neurologie">Neurologie</option>
                                            <option value="pediatrie">Pédiatrie</option>
                                            <option value="chirurgie">Chirurgie</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label">Numéro RPPS</label>
                                        <input type="text" class="form-control" id="licenseNumber" name="licenseNumber" readonly>
                                    </div>
                                </div>

                                <div class="mb-3">
                                    <label class="form-label">Établissement</label>
                                    <input type="text" class="form-control" id="hospital" name="hospital">
                                </div>

                                <div class="mb-3">
                                    <label class="form-label">Bio</label>
                                    <textarea class="form-control" id="bio" name="bio" rows="3"></textarea>
                                </div>

                                <div class="alert alert-success d-none" id="successMessage">
                                    Vos modifications ont été enregistrées avec succès.
                                </div>

                                <div class="alert alert-danger d-none" id="errorMessage"></div>

                                <button type="submit" class="btn btn-primary">Enregistrer les modifications</button>
                            </form>
                        </div>
                    </div>

                    <!-- Sécurité -->
                    <div class="card">
                        <div class="card-body">
                            <h4 class="card-title mb-4">Sécurité</h4>
                            <form id="securityForm">
                                <div class="mb-3">
                                    <label class="form-label">Ancien mot de passe</label>
                                    <input type="password" class="form-control" id="currentPassword">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Nouveau mot de passe</label>
                                    <input type="password" class="form-control" id="newPassword">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Confirmer le nouveau mot de passe</label>
                                    <input type="password" class="form-control" id="confirmPassword">
                                </div>
                                <button type="submit" class="btn btn-primary">Modifier le mot de passe</button>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- Sidebar -->
                <div class="col-md-4">
                    <!-- Subscription Status -->
                    <div class="card mb-4">
                        <div class="card-body">
                            <h4 class="card-title">Abonnement</h4>
                            <div class="d-flex justify-content-between align-items-center mb-3">
                                <div>
                                    <h5 class="mb-0" id="subscriptionPlan">Plan Premium</h5>
                                    <small class="text-muted" id="subscriptionStatus">Actif</small>
                                </div>
                                <a href="pricing.html" class="btn btn-outline-primary btn-sm">Gérer</a>
                            </div>
                            <div class="progress" style="height: 5px;">
                                <div class="progress-bar" role="progressbar" style="width: 75%"></div>
                            </div>
                            <small class="text-muted">Renouvellement le <span id="renewalDate">01/01/2024</span></small>
                        </div>
                    </div>

                    <!-- Activity Stats -->
                    <div class="card">
                        <div class="card-body">
                            <h4 class="card-title">Statistiques</h4>
                            <div class="d-flex justify-content-between mb-3">
                                <span>Vidéos visionnées</span>
                                <span class="fw-bold" id="watchedCount">0</span>
                            </div>
                            <div class="d-flex justify-content-between mb-3">
                                <span>Heures de formation</span>
                                <span class="fw-bold" id="trainingHours">0h</span>
                            </div>
                            <div class="d-flex justify-content-between">
                                <span>Vidéos en favoris</span>
                                <span class="fw-bold" id="favoritesCount">0</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script type="module" src="js/firebase-config.js"></script>
    <script type="module" src="js/nav-auth.js"></script>
    <script type="module" src="js/include-nav.js"></script>
    <script type="module" src="js/profile.js"></script>
</body>
</html>
